# Merge Sort

This is a Divide and Conquer approach. The process is divided into 2 parts

- Divide elements
- Merge elements

Time Complexity: O(n log n)

Consider the below example

```text
A = 15, 5, 24, 8, 1, 3, 16, 10, 20

=====================================
========== Divide Step ==============
=====================================

middle index = (lower index + biggest index) / 2

In divide phase we divide the array into smallest section i.e. into individual elements.

For our example middle index = (0 + 8) / 2 = 4

                            15, 5, 24, 8, 1, 3, 16, 10, 20
                  -----------------------------------------------------
                    |||                                     |||
                    VVV                                     VVV
              15, 5, 24, 8, 1                             3, 16, 10, 20

Now divide till you've individual elements

                                   15, 5, 24, 8, 1, 3, 16, 10, 20
                         -----------------------------------------------------
                           |||                                     |||
                           VVV                                     VVV
                     15, 5, 24, 8, 1                             3, 16, 10, 20
               ---------------------------                ---------------------------
                ||                    ||                     ||                 ||
                VV                    VV                     VV                 VV
            15, 5, 24                8, 1                   3, 16             10, 20
          -------------           ----------             -----------       -------------
           |         |              |    |                 |     |           |       |
           V         V              V    V                 V     V           V       V
         15, 5       24             8    1                 3     16         10      20
      ----------
       |      |
       V      V
       15     5

Now every thing is divided into single element. Now comes the merge phase.

=====================================
=========== Merge Step ==============
=====================================

Compare 15 and 5 and merge from smallest to biggest. This will give you

----------
| 5 | 15 |
----------

                                   15, 5, 24, 8, 1, 3, 16, 10, 20
                         -----------------------------------------------------
                           |||                                     |||
                           VVV                                     VVV
                     15, 5, 24, 8, 1                             3, 16, 10, 20
               ---------------------------                ---------------------------
                ||                    ||                     ||                 ||
                VV                    VV                     VV                 VV
            15, 5, 24                8, 1                   3, 16             10, 20
          -------------           ----------             -----------       -------------
           |         |              |    |                 |     |           |       |
           V         V              V    V                 V     V           V       V
    ----------       24             8    1                 3     16         10      20
    | 5 | 15 |
    ----------

Now merge [24] and [5, 15]. For this loop through [5, 15] and compare with 24, if any value in [5, 15] is bigger than 24 then swap positions but since not so we merge.


                                   15, 5, 24, 8, 1, 3, 16, 10, 20
                         -----------------------------------------------------
                           |||                                     |||
                           VVV                                     VVV
                     15, 5, 24, 8, 1                             3, 16, 10, 20
               ---------------------------                ---------------------------
                ||                    ||                     ||                 ||
                VV                    VV                     VV                 VV
         ---------------             8, 1                   3, 16             10, 20
         | 5 | 15 | 24 |          ----------             -----------       -------------
         ---------------            |    |                 |     |           |       |
                                    V    V                 V     V           V       V
                                    8    1                 3     16         10      20

Now merge 8 and 1

                                   15, 5, 24, 8, 1, 3, 16, 10, 20
                         -----------------------------------------------------
                           |||                                     |||
                           VVV                                     VVV
                     15, 5, 24, 8, 1                             3, 16, 10, 20
               ---------------------------                ---------------------------
                ||                    ||                     ||                 ||
                VV                    VV                     VV                 VV
         ---------------             8, 1                   3, 16             10, 20
         | 5 | 15 | 24 |          ----------             -----------       -------------
         ---------------            |    |                 |     |           |       |
                                    V    V                 V     V           V       V
                                   ---------               3     16         10      20
                                   | 1 | 8 |
                                   ---------

The order these are merged is the order they were divided. Since 8 and 1 divided so they are merged, similarly 15, 5, 24, 8, 1 were divided so they will be merged

5, 15, 24       1, 8
|               |
i               j

Check which one is smaller between i and j and swap accordingly. Now compare new j with old i

-----
| 1 |
-----

5, 15, 24       1, 8
|                  |
i                  j

---------
| 1 | 5 |
---------

Increment i and then compare it with j

5, 15, 24       1, 8
    |              |
    i              j

-------------
| 1 | 5 | 8 |
-------------

Now increment j but since we don't have any other value in the 2nd list, we'll add the remaining values from first list to our result.

-----------------------
| 1 | 5 | 8 | 15 | 24 |
-----------------------

                                   15, 5, 24, 8, 1, 3, 16, 10, 20
                         -----------------------------------------------------
                           |||                                     |||
                           VVV                                     VVV
                -----------------------                        3, 16, 10, 20
                | 1 | 5 | 8 | 15 | 24 |                  ---------------------------
                -----------------------                      ||                 ||
                                                             VV                 VV
                                                             3, 16             10, 20
                                                         -----------       -------------
                                                           |     |           |       |
                                                           V     V           V       V
                                                           3     16         10      20

Now similarly for the other side.

                                   15, 5, 24, 8, 1, 3, 16, 10, 20
                         -----------------------------------------------------
                           |||                                     |||
                           VVV                                     VVV
                -----------------------                        3, 16, 10, 20
                | 1 | 5 | 8 | 15 | 24 |                  ---------------------------
                -----------------------                      ||                 ||
                                                             VV                 VV
                                                           ----------          10, 20
                                                           | 3 | 16 |       -------------
                                                           ----------          |       |
                                                                               V       V
                                                                               10      20


                                   15, 5, 24, 8, 1, 3, 16, 10, 20
                         -----------------------------------------------------
                           |||                                     |||
                           VVV                                     VVV
                -----------------------                        3, 16, 10, 20
                | 1 | 5 | 8 | 15 | 24 |                  ---------------------------
                -----------------------                      ||                 ||
                                                             VV                 VV
                                                         ----------          -----------
                                                         | 3 | 16 |          | 10 | 20 |
                                                         ----------          -----------


                                   15, 5, 24, 8, 1, 3, 16, 10, 20
                         -----------------------------------------------------
                           |||                                     |||
                           VVV                                     VVV
                -----------------------                     --------------------
                | 1 | 5 | 8 | 15 | 24 |                     | 3 | 10 | 16 | 20 |
                -----------------------                     --------------------



Sorted array

------------------------------------------
| 1 | 3 | 5 | 8 | 10 | 15 | 16 | 20 | 24 |
------------------------------------------
```
